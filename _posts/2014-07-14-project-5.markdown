---
layout: default
modal-id: 5
title: Fidget Spinner Faceoff with Euler Lagrange Dynamics 
short-caption: Fidget Spinner Faceoff 
date: 2020-01-04
img: 314.gif
alt: image-alt
project-date: December 2019
client: Start Bootstrap
category: Euler Lagrange Dynamics, Physics Engine, SciPy
description: <br><br><p>In this project I simulated a fundamental physical phenominon - collision under external force. The goal of this project is to construct an essential building block for physics simulator, game engine, etc. The project is built using Lagriangian Dynamics and its numerical evaluation at each time step. </p> <br><br><p>The collision of two fidget spinners on a horizontal plane (gravity perpendicular to the plane).  The winning condition for this “fight” is to see which spinner can reach a wall first. One spinner is a rectangular prism and is modelled as a rectangle, with all sides being 1m long. Another spinner is a triangular cylinder and is modelled as a triangle, with all sides being 1m long. There will be friction on the ground.</p> <br><br><p><b>How to Detect Impact? - This is the Tricky Part of This Project</b><br> As shown in the below illustration, there is one frame at each apex of a disk. The x axis is always pointing along a side of the disk towards another apex, and the y axis is set up following the right hand rule. The way each frame is set up allows for a simple way to detect impacts and return the correct impact condition  - when a point enters an object, if not through a line that goes through one of the apexes, the point’s y coordinate in all the apex frames of the body will be positive. <br><br>For example, if point 1 of the triangle enters the rectangle, we can represent point 1’s body frame in the frames of the rectangle’s apexes a,b,c d - ga1, gb1, gc1, gd1, then we can easily extracts the y coordinate of point 1 in these frames and check if they are all positive. If so, there will be an impact <img src="https://user-images.githubusercontent.com/39393023/72278900-9409fc80-35fa-11ea-8ac6-3ad12326b8d2.png" alt="Log Yard" width="800" ></p><br><br><p><b>OK, Now How to Compute Velocities of the Two Objects After Imact?</b><br> The way to determine velocities after impact is the Canonical Langrangian Impact Update Method.</p> <br><center><img src="https://user-images.githubusercontent.com/39393023/72278748-4db49d80-35fa-11ea-8c12-b95e87d355cc.png" alt="Log Yard" width="250" ></center><br><br><p>H is the Hamiltonian, L is the Lagrangian Equation, q is the configuration variable vector, and <img src="http://latex.codecogs.com/gif.latex?\phi_p" border="0"/> is the "impact surface" (think of this as a set of equations in which all configuration variables during impact should satisfy)". The unknowns are <img src="http://latex.codecogs.com/gif.latex?\Dot_{q_+}" border="0"/>, the derivative of configuration variables q right after the impact, and two coefficient <img src="http://latex.codecogs.com/gif.latex?\lambda_I, \lambda_p" border="0"/>. Lastly, <img src="http://latex.codecogs.com/gif.latex?\tau_+, \tau_- " border="0"/>represent the times right before and right after the impact.</p> <br><br><p>For calculating the unknowns, H and L can be calculated using the canonical Euler-Lagrange Equations, so they can be easily computed. <b>Another tricky part is calculating the impact surface, </b> <img src="http://latex.codecogs.com/gif.latex?\phi" border="0"/>. In order to compute that which side a point crosses, let’s say point 1 of the triangle, we need to keep track of the y coordinate of point1 in all ga1, gb1, gc1, gd1 from the previous time instance. Once an impact is identified, the y coordinates of point 1 in all aforementioned frames are positive. If the y coordinate of one particular frame from the previous time instance was negative (there could be only one if the point did not cross through one of the apexes), we know for sure that the point crosses through the side that the frame’s x axis corresponding to.</p> <br><br><p>For example, if point 1 of the triangle crosses side AD into the rectangle, we can identify the impact condition by looking at the sign change in the y coordinate in gd1, yd1, because frame d has its x axis aligned with side AD. Then, the impact condition will be <img src="http://latex.codecogs.com/gif.latex?\phi=y_{d1} = 0" border="0"/></p><br><br><p><b>For more information, feel free to check out my <a href="https://colab.research.google.com/drive/1RC01ZiB3RvuVtoizZNib_rwEb-8QmcpA"> Google Colabotory Project</a> page, or <a href="index.html">shoot me a message!</a></b></p>
---
